<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <title>缩放变换</title>
    <style>
        body { background: url("./images/bg3.jpg") repeat; }
        #canvas { border: 1px solid #aaaaaa; display: block; margin: 50px auto; }
    </style>
</head>
<body>

<canvas id="canvas" width="600" height="200"></canvas>

<script>
    var canvas = document.getElementById('canvas')
    var ctx = canvas.getContext('2d')

    canvas.width = 300
    canvas.height = 300

    // 画圆
    ctx.fillStyle = 'yellow'
    ctx.fillRect(0, 0, 50, 100)

    ctx.strokeStyle = 'blue'
    ctx.strokeRect(0, 120, 50, 100)

    var img = new Image()
    img.onload = () => {
        // 画图片
        ctx.drawImage(img, 60, 0)
        // toImage
        var dataImg = new Image()
        dataImg.src = canvas.toDataURL('image/png')
        document.body.appendChild(dataImg) // 长按图片保存
    }
    img.crossOrigin = 'anonymous'
    img.src = 'https://nos.netease.com/easyread/fle/a0df1d4009c7a2ec5fee/1524215500140/avatar.png?' + (+new Date())

</script>
</body>
</html>